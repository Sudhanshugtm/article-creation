import"./modulepreload-polyfill-B5Qt9EMX.js";import"./ve-reading-script-CekbJ2YY.js";let c=1,s={selectedSection:null,sources:[],insertedSectionPosition:null},h=!1;function w(){const e=document.getElementById("sectionWizard");e&&(h||($(),h=!0),S(),e.style.display="block",setTimeout(()=>{e.classList.add("show")},10),document.body.style.overflow="hidden")}function u(){const e=document.getElementById("sectionWizard");e&&(e.classList.remove("show"),setTimeout(()=>{e.style.display="none",S()},300),document.body.style.overflow="")}function S(){c=1,s={selectedSection:null,sources:[],insertedSectionPosition:null},m(1),document.querySelectorAll(".section-card").forEach(t=>{t.classList.remove("selected")});const e=document.getElementById("sourcesList");e&&(e.innerHTML=""),p()}function m(e){document.querySelectorAll(".wizard-step").forEach(n=>{n.style.display="none"});const t=document.getElementById(`step${e}`);t&&(t.style.display="block"),document.querySelectorAll(".stepper-item").forEach((n,i)=>{i+1===e?n.classList.add("active"):n.classList.remove("active")}),c=e,p()}function p(){const e=document.getElementById("wizardBack"),t=document.getElementById("wizardSkip"),n=document.getElementById("wizardContinue"),i=document.getElementById("wizardInsert");e&&(e.style.display=c>1?"inline-block":"none"),t&&(t.style.display=c===2?"inline-block":"none"),n&&(n.style.display=c<3?"inline-block":"none",c===1?n.disabled=!s.selectedSection:c===2&&(n.disabled=!1)),i&&(i.style.display=c===3?"inline-block":"none",i.disabled=!1)}function b(){if(c===1){const e=document.querySelector(".section-card.selected");e&&(s.selectedSection=e.querySelector(".section-card-title").textContent),z(),document.querySelectorAll(".chosen-section-name").forEach(t=>{t.textContent=s.selectedSection}),m(2)}else c===2&&(s.sources.length>0&&B(),L(),m(3))}function E(){c>1&&m(c-1)}function I(){if(c===2){const e=document.getElementById("sourcesNudge");e&&s.sources.length===0&&(e.style.display="block"),b()}}function z(){const e=document.getElementById("newSectionsContainer")||document.getElementById("articleBody");if(!e)return;const t=document.createElement("section");t.className="article-section article-section--new",t.id="new-section-"+Date.now(),t.style.backgroundColor="#f8f9fa",t.style.border="2px solid #0645ad",t.style.borderRadius="4px",t.style.padding="16px",t.style.margin="16px 0",t.innerHTML=`
        <h2 class="article-section__title">${s.selectedSection}</h2>
        <div class="article-section__content">
            <p contenteditable="true" style="min-height: 2em; border: 1px dashed #a2a9b1; padding: 8px; border-radius: 2px;">
                Start writing about ${s.selectedSection}...
            </p>
        </div>
    `,e.appendChild(t);const n=t.querySelector("[contenteditable]");if(n){n.focus();const i=document.createRange();i.selectNodeContents(n);const o=window.getSelection();o.removeAllRanges(),o.addRange(i)}s.insertedSectionPosition=t.id}function v(){const e=document.getElementById("sourceUrlInput"),t=document.getElementById("sourcesList");if(!e||!t||!e.value.trim())return;const n=e.value.trim(),i=[`${s.selectedSection} has been recognized for significant contributions.`,`Recent developments in ${s.selectedSection} have gained attention.`,`The impact of ${s.selectedSection} continues to influence research.`],o=document.createElement("div");o.className="source-item",o.innerHTML=`
        <div class="source-url">${n}</div>
        <div class="source-statements">
            ${i.map(r=>`
                <div class="example-sentence">
                    ${r} <span class="citation-note">(will add a citation)</span>
                </div>
            `).join("")}
        </div>
    `,t.appendChild(o),s.sources.push({url:n,sentences:i}),e.value="";const a=document.getElementById("sourcesNudge");a&&(a.style.display="none"),p()}function B(){const e=document.getElementById("sourcePalette"),t=document.getElementById("sourcePaletteContent");if(!e||!t)return;let n="";s.sources.forEach((i,o)=>{i.sentences.forEach((a,r)=>{n+=`
                <div class="source-statement-item" data-source="${o}" data-sentence="${r}">
                    <div class="source-statement-text">${a}</div>
                    <div class="source-statement-citation">[${o+1}]</div>
                </div>
            `})}),t.innerHTML=n,e.style.display="block",setTimeout(()=>{e.classList.add("show")},10)}function k(){const e=document.getElementById("sourcePalette");e&&(e.classList.remove("show"),setTimeout(()=>{e.style.display="none"},300))}function L(){const e=document.getElementById("reviewChecks");if(!e)return;let t=[];s.sources.length===0&&t.push({icon:"ðŸ“š",title:"No sources provided",text:"Consider adding reliable sources to support your content."});let n="";t.forEach(i=>{n+=`
            <div class="review-issue">
                <div class="review-issue-icon">${i.icon}</div>
                <div class="review-issue-content">
                    <div class="review-issue-title">${i.title}</div>
                    <div class="review-issue-text">${i.text}</div>
                </div>
            </div>
        `}),e.innerHTML=t.length>0?n:'<p style="color: #00af89; font-weight: 500;">âœ“ No issues found. Ready to finish!</p>'}function C(){T(`Section "${s.selectedSection}" added successfully!`),k(),u()}function x(e){const t=document.getElementById(s.insertedSectionPosition);if(t){const n=t.querySelector("[contenteditable]");if(n){const i=window.getSelection();if(i.rangeCount>0){const o=i.getRangeAt(0);o.deleteContents(),o.insertNode(document.createTextNode(e+" ")),o.collapse(!1)}else n.textContent+=e+" "}}}function T(e){const t=document.createElement("div");t.className="success-feedback",t.textContent=`âœ“ ${e}`,t.style.cssText=`
        position: fixed;
        bottom: 32px;
        left: 50%;
        transform: translateX(-50%);
        background: #00af89;
        color: white;
        padding: 12px 24px;
        border-radius: 4px;
        font-weight: 500;
        z-index: 1000;
        animation: fadeInOut 3s ease;
    `,document.body.appendChild(t),setTimeout(()=>{t.remove()},3e3)}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("smartWidget");e&&e.addEventListener("click",w);const t=document.getElementById("wizardClose");t&&t.addEventListener("click",u);const n=document.getElementById("wizardCancel");n&&n.addEventListener("click",u);const i=document.getElementById("wizardContinue");i&&i.addEventListener("click",b);const o=document.getElementById("wizardBack");o&&o.addEventListener("click",E);const a=document.getElementById("wizardSkip");a&&a.addEventListener("click",I);const r=document.getElementById("wizardInsert");r&&r.addEventListener("click",C);const g=document.getElementById("sourcePaletteClose");g&&g.addEventListener("click",k),document.addEventListener("click",d=>{if(d.target.closest(".section-card")){const l=d.target.closest(".section-card");document.querySelectorAll(".section-card").forEach(f=>f.classList.remove("selected")),l.classList.add("selected"),s.selectedSection=l.querySelector(".section-card-title").textContent,p()}if(d.target.id==="addSourceBtn"&&v(),d.target.closest(".source-statement-item")){const f=d.target.closest(".source-statement-item").querySelector(".source-statement-text").textContent;x(f)}}),document.addEventListener("keydown",d=>{if(d.target.id==="sourceUrlInput"&&d.key==="Enter"&&(d.preventDefault(),v()),d.key==="Escape"){const l=document.getElementById("sectionWizard");l&&l.classList.contains("show")&&u()}});const y=document.querySelector(".wizard-backdrop");y&&y.addEventListener("click",u)});function $(){const e=sessionStorage.getItem("selectedArticle");let t="katie-bouman";if(e)try{t=JSON.parse(e).id}catch{console.warn("Failed to parse stored article data")}const n=A(t),i=document.querySelector(".section-suggestions");i&&n.length>0&&(i.innerHTML=n.map(o=>`
            <div class="section-card" data-section="${o.id}">
                <h4 class="section-card-title">${o.title}</h4>
                <p class="section-card-why">${o.description}</p>
            </div>
        `).join(""))}function A(e){return{"katie-bouman":[{id:"personal-life",title:"Personal life",description:"Readers want to know about background and inspirations"},{id:"awards-honors",title:"Awards and honors",description:"Recognition for groundbreaking contributions"},{id:"technical-innovations",title:"Technical innovations",description:"Specific algorithmic contributions deserve explanation"}],"john-langford":[{id:"publications",title:"Publications",description:"Key research papers and theoretical contributions"},{id:"software-projects",title:"Software projects",description:"Open source tools and their impact on machine learning"},{id:"academic-service",title:"Academic service",description:"Leadership roles in conferences and institutions"}],"henri-gouraud":[{id:"legacy-impact",title:"Legacy and impact",description:"Influence on modern computer graphics and 3D rendering"},{id:"personal-family",title:"Personal life",description:"Family background and personal history"},{id:"technical-details",title:"Technical innovations",description:"Detailed explanation of Gouraud shading algorithm"}],"eduardo-caianiello":[{id:"institutions-founded",title:"Institutions founded",description:"Academic centers and research institutes established"},{id:"scientific-theories",title:"Scientific theories",description:"Contributions to quantum theory and neural networks"},{id:"publications-works",title:"Publications and works",description:"Major papers and theoretical contributions"}],"patrick-mchale":[{id:"musical-career",title:"Musical career",description:"Compositions and musical contributions to animated works"},{id:"creative-process",title:"Creative process",description:"Approach to storytelling and visual design"},{id:"collaborations",title:"Collaborations",description:"Working relationships with other creators and studios"}]}[e]||[]}window.openSectionWizard=w;window.closeSectionWizard=u;
